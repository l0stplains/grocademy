<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>{{title}}</title>
  <link rel="stylesheet" href="/static/css/styles.css" />
  <script defer src="/static/assets/js/app.js"></script>
</head>
<body>
  {{> navbar page="mine" user=user}}
  <main class="container">
    <div class="space-between">
      <h1>My Courses</h1>
      <form class="row" method="get" action="/my-courses" data-debounce="search">
        <input name="q" placeholder="Search my courses" value="{{q}}">
        <button class="btn" type="submit">Search</button>
      </form>
    </div>

    <section class="grid cards" style="margin-top:16px">
      {{#each courses}}
        <a class="card" href="/courses/{{this.id}}">
          <img class="thumb" src="{{this.thumbnail_image}}" alt="" onerror="this.style.display='none'">
          <h3>{{this.title}}</h3>
          <p class="muted">{{this.instructor}}</p>
          <div class="progress" aria-label="Progress"><div style="width: {{this.progress_percentage}}%"></div></div>
          <p class="muted">Purchased: {{this.purchased_at}}</p>
        </a>
      {{/each}}
    </section>

    <nav class="pagination" aria-label="Pagination">
      <span>Page {{pagination.current_page}} / {{pagination.total_pages}}</span>
    </nav>
  </main>
  {{> footer year="2025"}}
</body>
</html>
